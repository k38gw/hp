<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <title>Gallery</title>
  <link rel="icon" href="favicon.png" type="image/png">

  <!-- 共通CSS -->
  <link rel="stylesheet" href="style.css">

  <!-- Gallery専用CSS（ギャラリー・ライトボックス） -->
    <style>
    /* --- ギャラリー --- */
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 14px;
      margin-bottom: 30px;
    }

.gallery figure {
  height: auto; /* ← ここを変更！ */
  display: flex;
  flex-direction: column;
  padding: 8px;
  box-sizing: border-box;
  background: #fff;
  border-radius: 4px;
  overflow: hidden;
  text-align: center;
  margin: 0;
}

.gallery img {
  width: 96%; /* ← 100% → 96% にするだけ */ 
  margin: 0 auto;
  height: auto; /* ← ここが重要！ */
  object-fit: contain;
  display: block;
}

.gallery figcaption {
  margin-top: 6px;
  font-size: 0.85em;
  color: #444;
  line-height: 1.2em;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

    /* --- ライトボックス --- */
    #lightbox {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 999;
    }

    #lightbox-content {
      max-width: 90vw;
      max-height: 90vh;
      text-align: center;
      position: relative;
    }

    #lightbox-img {
      max-width: 100%;
      max-height: 80vh;
      height: auto;
      width: auto;
    }

    #lightbox-caption {
      color: white;
      margin-top: 10px;
      font-size: 1em;
      max-height: 10vh; /* ← キャプションの高さを確保 */
      overflow-y: auto; /* ← 長い場合はスクロール */
    }

    /* --- 矢印（画面左右に固定） --- */
    .nav-btn {
      position: fixed;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0, 0, 0, 0.45);
      border: none;
      color: white;
      font-size: 2.2rem;
      cursor: pointer;
      padding: 10px 14px;
      border-radius: 50%;
      user-select: none;
      z-index: 1000;
    }

    #prev-btn {
      left: 20px;
    }

    #next-btn {
      right: 20px;
    }

    @media (max-width: 600px) {
      .nav-btn {
        font-size: 1.8rem;
        padding: 8px 10px;
      }
    }

@media (max-width: 600px) and (orientation: portrait) {
  #lightbox-img {
    width: auto;
    height: auto;
    max-height: 88vh;   /* ← 上限だけ指定する（固定しない） */
    max-width: 100%;
    object-fit: contain; /* ← 比率を絶対に守る */
  }
}

      
</style>

</head>

<body>

<h3>Gallery</h3>
<p class="subtitle">Illustrations I’ve created</p>
  <div class="gallery">

    <!-- ここから作品一覧 -->
    <figure>
      <img src="img/2026a.png" alt="image">
      <figcaption>2026寒中お見舞い</figcaption>
    </figure>
    <figure>
      <img src="img/2025b1.png" alt="image">
      <figcaption>スロベニアイベント缶バッジ（クラン市）</figcaption>
    </figure>
    <figure>
      <img src="img/2025b2.png" alt="image">
      <figcaption>スロベニアイベント缶バッジ（ブレッド湖）</figcaption>
    </figure>
    <figure>
      <img src="img/2025b3.png" alt="image">
      <figcaption>スロベニアイベント缶バッジ（竜）</figcaption>
    </figure>
    <figure>
      <img src="img/2025b4.png" alt="image">
      <figcaption>スロベニアイベント缶バッジ（ホライモリ）</figcaption>
    </figure>
    <figure>
      <img src="img/2025a.jpeg" alt="image">
      <figcaption>2025年賀状</figcaption>
    </figure>
    <figure>
      <img src="img/2024d.png" alt="image">
      <figcaption>こども未来計画（表紙）</figcaption>
    </figure>
    <figure>
      <img src="img/2024c.jpeg" alt="image">
      <figcaption>風船と女の子</figcaption>
    </figure>
    <figure>
      <img src="img/2024b.jpeg" alt="image">
      <figcaption>女の子</figcaption>
    </figure>
    <figure>
      <img src="img/2024a.jpeg" alt="image">
      <figcaption>ぱんだ通信</figcaption>
    </figure>
    <figure>
      <img src="img/2021b.png" alt="image">
      <figcaption>発達障がい児者支援計画（表紙）</figcaption>
    </figure>
    <figure>
      <img src="img/2021a.png" alt="image">
      <figcaption>共済会誌新年号（表紙）</figcaption>
    </figure>
    <figure>
      <img src="img/2018b1.png" alt="image">
      <figcaption>おかぼうくん（岡保地区防災）</figcaption>
    </figure>
    <figure>
      <img src="img/2018b2.png" alt="image">
      <figcaption>なおけちゃん（菜おけ）</figcaption>
    </figure>
    <figure>
      <img src="img/2018b3.png" alt="image">
      <figcaption>おかぼうくん（体操服）</figcaption>
    </figure>
    <figure>
      <img src="img/2018b4.png" alt="image">
      <figcaption>おかぼうくん（体操服）</figcaption>
    </figure>
    <figure>
      <img src="img/2018b5.png" alt="image">
      <figcaption>おかフラちゃん（フラダンス）</figcaption>
    </figure>
    <figure>
      <img src="img/2018b6.png" alt="image">
      <figcaption>おかぼうくん（岡保を知ろう会）</figcaption>
    </figure>
    <figure>
      <img src="img/2017a1.png" alt="image">
      <figcaption>小少将</figcaption>
    </figure>
    <figure>
      <img src="img/2017a2.png" alt="image">
      <figcaption>朝倉義景</figcaption>
    </figure>
    <figure>
      <img src="img/2017a3.png" alt="image">
      <figcaption>真柄十郎左衛門直澄</figcaption>
    </figure>
    <figure>
      <img src="img/2017a4.png" alt="image">
      <figcaption>朝倉宗滴</figcaption>
    </figure>

    <figure>
      <img src="img/2016a1.png" alt="image">
      <figcaption>子育て広場1</figcaption>
    </figure>
    <figure>
      <img src="img/2016a2.png" alt="image">
      <figcaption>子育て広場2</figcaption>
    </figure>
    <figure>
      <img src="img/2016a3.png" alt="image">
      <figcaption>子育て広場3</figcaption>
    </figure>
    <figure>
      <img src="img/2015a.png" alt="image">
      <figcaption>夢アート2015（東光軒看板）</figcaption>
    </figure>
    <figure>
      <img src="img/2014a.png" alt="image">
      <figcaption>カフェ研修室</figcaption>
    </figure>
    <figure>
      <img src="img/2012a.png" alt="image">
      <figcaption>トモヒロとユイ</figcaption>
    </figure>

    <!-- ここから絵はがき -->
    <figure>
      <img src="img/hagaki/2007.jpg" alt="image">
      <figcaption>2007引っ越しました</figcaption>
    </figure>
    <figure>
      <img src="img/hagaki/2005.jpg" alt="image">
      <figcaption>2005年賀状</figcaption>
    </figure>
    <figure>
      <img src="img/hagaki/2004.jpg" alt="image">
      <figcaption>2004年賀状</figcaption>
    </figure>
    <figure>
      <img src="img/hagaki/2000a.jpg" alt="image">
      <figcaption>2000年賀状</figcaption>
    </figure>
    <figure>
      <img src="img/hagaki/2000b.jpg" alt="image">
      <figcaption>2000クリスマス</figcaption>
    </figure>
    <figure>
      <img src="img/hagaki/1999.jpg" alt="image">
      <figcaption>1999年賀状</figcaption>
    </figure>
    <figure>
      <img src="img/hagaki/1997a.jpg" alt="image">
      <figcaption>1997年賀状</figcaption>
    </figure>
    <figure>
      <img src="img/hagaki/1997b.jpg" alt="image">
      <figcaption>1997帰ってきてます</figcaption>
    </figure>
    <figure>
      <img src="img/hagaki/1996.jpg" alt="image">
      <figcaption>1996年賀状</figcaption>
    </figure>
    <figure>
      <img src="img/hagaki/1995a.jpg" alt="image">
      <figcaption>1995年賀状1</figcaption>
    </figure>
    <figure>
      <img src="img/hagaki/1995b.jpg" alt="image">
      <figcaption>1995年賀状2</figcaption>
    </figure>
    <figure>
      <img src="img/hagaki/1994.jpg" alt="image">
      <figcaption>1994年賀状</figcaption>
    </figure>
    <figure>
      <img src="img/hagaki/1993.jpg" alt="image">
      <figcaption>1993年賀状</figcaption>
    </figure>
    <figure>
      <img src="img/hagaki/1992a.jpg" alt="image">
      <figcaption>1992年賀状1</figcaption>
    </figure>
    <figure>
      <img src="img/hagaki/1992b.jpg" alt="image">
      <figcaption>1992年賀状2</figcaption>
    </figure>
    <figure>
      <img src="img/hagaki/1988.jpg" alt="image">
      <figcaption>1988年賀状</figcaption>
    </figure>

    <!-- ここからoldタイトル -->
    <figure>
      <img src="img/old/2001.gif" alt="image">
      <figcaption>2001残暑お見舞い</figcaption>
    </figure>
    <figure>
      <img src="img/old/2000b.gif" alt="image">
      <figcaption>2000カメが首を長くする</figcaption>
    </figure>
    <figure>
      <img src="img/old/2000a.gif" alt="image">
      <figcaption>二人でコーヒー</figcaption>
    </figure>
    <figure>
      <img src="img/old/1999b.gif" alt="image">
      <figcaption>1999女の子</figcaption>
    </figure>
    <figure>
      <img src="img/old/1999c.gif" alt="image">
      <figcaption>1999探検少年</figcaption>
    </figure>
    <figure>
      <img src="img/old/1999a.gif" alt="image">
      <figcaption>1999山歩き</figcaption>
    </figure>
    <figure>
      <img src="img/old/1998d.gif" alt="image">
      <figcaption>まいにちこーひぃ</figcaption>
    </figure>
    <figure>
      <img src="img/old/1998c.gif" alt="image">
      <figcaption>1998ピーターパン</figcaption>
    </figure>
    <figure>
      <img src="img/old/1998a.gif" alt="image">
      <figcaption>1998探検少年1</figcaption>
    </figure>
    <figure>
      <img src="img/old/1998b.gif" alt="image">
      <figcaption>1998探検少年2</figcaption>
    </figure>
    <figure>
      <img src="img/old/1997a.gif" alt="image">
      <figcaption>1997少女</figcaption>
    </figure>
    <figure>
      <img src="img/old/1996c.gif" alt="image">
      <figcaption>1996レストランで</figcaption>
    </figure>
    <figure>
      <img src="img/old/1996b.gif" alt="image">
      <figcaption>1996少女</figcaption>
    </figure>
    <figure>
      <img src="img/old/1996a.gif" alt="image">
      <figcaption>1996ふたり</figcaption>
    </figure>
    <figure>
      <img src="img/old/1995a.gif" alt="image">
      <figcaption>1995探検少年1</figcaption>
    </figure>
    <figure>
      <img src="img/old/1995b.gif" alt="image">
      <figcaption>1995探検少年2</figcaption>
    </figure>
      

    <!-- ここからボトルメール -->
    <figure>
      <img src="img/bmail/1999u.gif" alt="image">
      <figcaption>貝</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999t.gif" alt="image">
      <figcaption>もうねよ</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999s.gif" alt="image">
      <figcaption>よしっ</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999r.gif" alt="image">
      <figcaption>ぼんやり</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999q1.gif" alt="image">
      <figcaption>いぢめない</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999q2.gif" alt="image">
      <figcaption>ほんと</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999p.gif" alt="image">
      <figcaption>少女</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999o.gif" alt="image">
      <figcaption>少女</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999n.gif" alt="image">
      <figcaption>少女</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999m1.gif" alt="image">
      <figcaption>さむい</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999m2.gif" alt="image">
      <figcaption>うん</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999m3.gif" alt="image">
      <figcaption>猫は</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999m4.gif" alt="image">
      <figcaption>帰ったところ</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999m5.gif" alt="image">
      <figcaption>おみやげ</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999m6.gif" alt="image">
      <figcaption>ぽっ</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999l.gif" alt="image">
      <figcaption>あったか</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999k.gif" alt="image">
      <figcaption>ビール</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999j.gif" alt="image">
      <figcaption>雲のうえ</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999i.gif" alt="image">
      <figcaption>おやすみなさい</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999h.gif" alt="image">
      <figcaption>ねるぞう</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999g1.gif" alt="image">
      <figcaption>あるまじろ</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999g2.gif" alt="image">
      <figcaption>はりねずみ</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999g3.gif" alt="image">
      <figcaption>猫と少年</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999g4.gif" alt="image">
      <figcaption>招き猫</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999g5.gif" alt="image">
      <figcaption>わんにゃん</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999f.gif" alt="image">
      <figcaption>パンダ</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999e.gif" alt="image">
      <figcaption>うりぼう</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999d.gif" alt="image">
      <figcaption>くま</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999c.gif" alt="image">
      <figcaption>かば</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999b.gif" alt="image">
      <figcaption>羊</figcaption>
    </figure>
    <figure>
      <img src="img/bmail/1999a.gif" alt="image">
      <figcaption>かえる</figcaption>
    </figure>

  </div>

  <!-- ライトボックス -->
  <div id="lightbox">
    <div id="lightbox-content">
      <button id="prev-btn" class="nav-btn">＜</button>

      <img id="lightbox-img" src="">
      <p id="lightbox-caption"></p>

      <button id="next-btn" class="nav-btn">＞</button>
    </div>
  </div>

  <hr style="margin: 18px auto 0; border: none; border-top: 1px solid #ccc; max-width: 420px; width: 100%;">
  <div class="home-link">
    <a href="index.html">Home</a>
  </div>

  <a href="index.html" class="floating-home">≪</a>

  <!-- JavaScript -->

<script>
  const images = Array.from(document.querySelectorAll(".gallery img"));
  const lightbox = document.getElementById("lightbox");
  const lightboxImg = document.getElementById("lightbox-img");
  const caption = document.getElementById("lightbox-caption");

  let currentIndex = 0;

  // ギャラリーの画像クリックでライトボックスを開く
  images.forEach((img, index) => {
    img.addEventListener("click", () => {
      currentIndex = index;
      showImage();
    });
  });

  function showImage() {
    const fig = images[currentIndex].closest("figure");
    const cap = fig ? fig.querySelector("figcaption") : null;

    lightboxImg.src = images[currentIndex].src;
    caption.textContent = cap ? cap.textContent : "";

    lightbox.style.display = "flex";
  }

  /* 背景クリックで閉じる（矢印や画像では閉じない） */
  lightbox.addEventListener("click", (e) => {
    if (e.target === lightbox) {
      lightbox.style.display = "none";
    }
  });

  /* キーボード操作 */
  document.addEventListener("keydown", (e) => {
    if (lightbox.style.display !== "flex") return;

    if (e.key === "ArrowRight") {
      currentIndex = (currentIndex + 1) % images.length;
      showImage();
    }
    if (e.key === "ArrowLeft") {
      currentIndex = (currentIndex - 1 + images.length) % images.length;
      showImage();
    }
    if (e.key === "Escape") {
      lightbox.style.display = "none";
    }
  });

  /* --- 画像タップで次へ進む（スマホでもPCでもクリック/タップ対応） --- */
  lightboxImg.addEventListener("click", (e) => {
    e.stopPropagation(); // 背景クリック扱いにならないように
    currentIndex = (currentIndex + 1) % images.length;
    showImage();
  });

  /* 矢印クリック */
  document.getElementById("prev-btn").addEventListener("click", (e) => {
    e.stopPropagation();
    currentIndex = (currentIndex - 1 + images.length) % images.length;
    showImage();
  });

  document.getElementById("next-btn").addEventListener("click", (e) => {
    e.stopPropagation();
    currentIndex = (currentIndex + 1) % images.length;
    showImage();
  });

/* --- スワイプ操作（最小構成・誤動作しにくい） --- */
let startX = 0;
let startY = 0;
let isSwiping = false;

lightboxImg.addEventListener("touchstart", (e) => {
  if (e.touches.length !== 1) return; // 2本指などは無視
  startX = e.touches[0].clientX;
  startY = e.touches[0].clientY;
  isSwiping = true;
});

lightboxImg.addEventListener("touchmove", (e) => {
  if (!isSwiping) return;

  const dx = e.touches[0].clientX - startX;
  const dy = e.touches[0].clientY - startY;

  // 縦方向の動きが大きい → スクロールと判断してキャンセル
  if (Math.abs(dy) > Math.abs(dx)) {
    isSwiping = false;
  }
});

lightboxImg.addEventListener("touchend", (e) => {
  if (!isSwiping) return;

  const dx = e.changedTouches[0].clientX - startX;

  const threshold = 50; // スワイプ判定の最小距離（誤動作防止）

  if (dx > threshold) {
    // → 右スワイプ（前の画像）
    currentIndex = (currentIndex - 1 + images.length) % images.length;
    showImage();
  } else if (dx < -threshold) {
    // → 左スワイプ（次の画像）
    currentIndex = (currentIndex + 1) % images.length;
    showImage();
  }

  isSwiping = false;
});
  
</script>

</body>
</html>
